<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SWPT Home</title>
  <link rel="stylesheet" href="static/swpt_styles.css">

</head>

<body id="top">

<!-- HEADER -->
<header class="home-header" role="banner" aria-label="SWPT header">
    <a href="#top" class="home-link home-brand" onclick="event.preventDefault(); window.scrollTo({top:0, behavior: 'smooth'});" aria-label="SWPT home">
        <img src="../static/images/swpt-logo-cropped.png" alt="SWPT Logo" class="home-logo">
        <span class="home-title">Stormwater Pollution Tracker</span>
    </a>

    <!-- Desktop nav (shows on larger screens) -->
    <nav class="home-nav" aria-label="SWPT navigation">
        <a href="#video" class="home-nav-link">Video</a>
        <a href="#why" class="home-nav-link">Why</a>
        <a href="#modules" class="home-nav-link">Modules</a>
        <a href="#contact" class="home-nav-cta">Contact</a>
        <a href="../" class="home-nav-cta">Back to Fathom</a>
    </nav>

    <!-- Mobile menu button -->
    <button
        class="menu-toggle"
        id="menuToggle"
        type="button"
        aria-label="Open menu"
        aria-controls="mobileMenu"
        aria-expanded="false">
        <span class="menu-toggle__bar"></span>
        <span class="menu-toggle__bar"></span>
        <span class="menu-toggle__bar"></span>
    </button>
</header>

<!-- Mobile menu panel -->
<div class="mobile-menu" id="mobileMenu" aria-hidden="true">
    <div class="mobile-menu__panel" role="dialog" aria-label="Site menu">
        <div class="mobile-menu__header">
            <span class="mobile-menu__title">Menu</span>
            <button class="mobile-menu__close" id="menuClose" type="button" aria-label="Close menu">×</button>
        </div>

        <div class="mobile-menu__links">
            <a href="#video" class="mobile-menu__link">Product</a>
            <a href="#why" class="mobile-menu__link">Purpose</a>
            <a href="#modules" class="mobile-menu__link">Solutions</a>
            <a href="#impact" class="mobile-menu__link">Impact</a>
        </div>

        <div class="mobile-menu__actions">
            <a href="#contact" class="mobile-menu__cta">Contact</a>
            <a href="../" class="mobile-menu__secondary">Back to Fathom</a>
        </div>
    </div>
</div>


<!-- ============================== -->
<!--       HERO SECTION             -->
<!-- ============================== -->
<section id="hero" class="hero-section hero-section--saas">
    <div class="hero-inner hero-inner--saas">

        <div class="hero-badge">
            <!-- Simple sparkle mark so we don't need new icon libraries here -->
            <span class="hero-badge__icon" aria-hidden="true">✦</span>
            SaaS Platform • Powered by Python and GIS
        </div>

        <h1 class="hero-title hero-title--saas">Cleaner water starts with smarter street sweeping.</h1>
        <p class="hero-subtitle hero-subtitle--saas">
            SWPT helps states and municipalities plan, prioritize, and optimize sweeping using data-driven
            modeling, so you can reduce stormwater pollution, improve operational efficiency,
            defend BMP performance, and meet stormwater compliance goals.
        </p>

        <div class="hero-buttons hero-buttons--saas">
            <a href="#contact" class="hero-btn hero-btn--primary">
                Schedule a demo
                <span class="hero-btn__icon" aria-hidden="true">→</span>
            </a>
        </div>

        <div class="hero-metrics">
            <div class="hero-metric">
                <div class="hero-metric__value">MS4-ready</div>
                <div class="hero-metric__label">Reporting + defensible insights</div>
            </div>
            <div class="hero-metric">
                <div class="hero-metric__value">Data-driven</div>
                <div class="hero-metric__label">Science backed modeling</div>
            </div>
            <div class="hero-metric">
                <div class="hero-metric__value">GIS-based</div>
                <div class="hero-metric__label">Power of geospatial data</div>
            </div>
        </div>

        <div class="hero-proof">
            Built for municipality public works divisions and state departments of transportation.
            We work with existing sweeping programs, not to disrupt their workflow, but to transform
            their impact and provide measurable results.
        </div>

    </div>
</section>



<!-- ============================== -->
<!--         VIDEO SECTION          -->
<!-- ============================== -->
<section id="video" class="landing-section landing-section--video" aria-label="SWPT product video">
    <div class="video-card">
        <h2 class="section-title">See SWPT in action</h2>

        <!--
          Performance notes:
          - The MP4 is very large, so we do NOT include a <source> initially.
          - We only set the video src after a user gesture (click), which avoids a massive initial download.
          - If you add a poster image later, set data-poster="/static/images/<your-poster>.jpg" for instant preview.
        -->
        <div class="video-shell" id="swptVideoShell" role="button" tabindex="0" aria-label="Play SWPT demo video">
            <div class="video-overlay">
                <div class="video-play" aria-hidden="true">
                    <span class="video-play__icon">▶</span>
                    <span class="video-play__label">Play</span>
                </div>
            </div>

            <div id="swptYoutubePlayer" class="swpt-video"></div>

        </div>

        <div class="video-chapters" aria-label="Video chapters">
            <div class="video-chapters__grid">
                <button type="button" class="chapter-chip" data-seek="8">
                    <span class="chapter-chip__time">0:08</span>
                    <span class="chapter-chip__label">About</span>
                </button>
                <button type="button" class="chapter-chip" data-seek="31">
                    <span class="chapter-chip__time">0:31</span>
                    <span class="chapter-chip__label">Dashboard</span>
                </button>
                <button type="button" class="chapter-chip" data-seek="51">
                    <span class="chapter-chip__time">0:51</span>
                    <span class="chapter-chip__label">Simulate</span>
                </button>
                <button type="button" class="chapter-chip" data-seek="93">
                    <span class="chapter-chip__time">1:33</span>
                    <span class="chapter-chip__label">Prioritize</span>
                </button>
                <button type="button" class="chapter-chip" data-seek="123">
                    <span class="chapter-chip__time">2:03</span>
                    <span class="chapter-chip__label">Upload</span>
                </button>
            </div>
        </div>
    </div>
</section>



<!-- ============================== -->
<!--     WHY IT MATTERS            -->
<!-- ============================== -->
<section id="why" class="why-section">
    <h2 class="section-title">Why Street Sweeping Matters</h2>

    <div class="why-row">

        <div class="why-card">
            <img src="../static/images/urban_pollution.jpg" class="why-img">
            <p class="why-text">Urban streets accumulate excess pollutants such as sediment, metals, nutrients, and hydrocarbons.
            Up to 9000 pounds of these materials build up on every mile of roadway.</p>
        </div>

        <div class="why-card">
            <img src="../static/images/stormwater_pollution.jpeg" class="why-img">
            <p class="why-text">Stormwater runoff transports these pollutants directly into local waterways every rain event.
            After long dry periods, this excess in pollutant discharge can shock and severely harm ecosystems</p>
        </div>

        <div class="why-card">
            <img src="../static/images/street_sweeper.jpeg" class="why-img">
            <p class="why-text">Street sweeping can be an extremely cost-effective pollution control measure, but only when strategically scheduled and targeted.
            Data-driven street sweeping programs are promised to make a big impact in water quality improvements. </p>
        </div>

    </div>
</section>



<!-- ============================== -->
<!--     MODULE CARDS              -->
<!-- ============================== -->
<section id="modules" class="modules-section">
    <h2 class="section-title">What You Can Do with SWPT</h2>

    <div class="modules-row">

        <div class="module-card">
            <div class="module-icon">
                <img src="../static/images/simulate_icon.png" alt="Prioritize" class="module-icon-img">
            </div>
            <h3>Simulate</h3>
            <p>Model buildup, washoff, and sweeper removal to calculate polluton reduction across your road network.</p>
            <button class="module-button" onclick="openModal('simulateModal')">Learn More</button>
        </div>

        <div class="module-card">
            <div class="module-icon">
                <img src="../static/images/prioritize_icon.png" alt="Prioritize" class="module-icon-img">
            </div>
            <h3>Prioritize</h3>
            <p>Rank road segments using environmental and social weighting factors to target areas of concern.</p>
            <button class="module-button" onclick="openModal('prioritizeModal')">Learn More</button>
        </div>

        <div class="module-card">
            <div class="module-icon">
                <img src="../static/images/optimize_icon.png" alt="Prioritize" class="module-icon-img">
            </div>
            <h3>Optimize</h3>
            <p>Find the most efficient sweeper routes and cost-effective sweeping schedule for your sweeping program.</p>
            <button class="module-button" onclick="openModal('optimizeModal')">Learn More</button>
        </div>

    </div>
</section>



<!-- ============================== -->
<!--     HOW IT WORKS              -->
<!-- ============================== -->
<section id="how" class="how-section">

</section>



<!-- ============================== -->
<!--     IMPACT STATEMENT           -->
<!-- ============================== -->
<section id="impact" class="impact-section">
    <p>
        SWPT empowers municipalities to make smarter sweeping decisions, reduce stormwater pollution,
        and justify BMP performance with defendable, data-driven reporting.
    </p>
</section>

<!-- ============================== -->
<!--        CONTACT SECTION         -->
<!-- ============================== -->
<section id="contact" class="contact-section landing-section landing-section--contact">
    <div class="contact-card">
        <h2 class="section-title section-title--left">Schedule a demo, start a pilot, or contact us</h2>
        <p class="landing-body">
            Tell us about your stormwater program and what you'd like to accomplish. Or offer ideas for features that would be useful for you.
        </p>

        <div class="contact-type" role="tablist" aria-label="Contact request type">
            <button type="button" class="contact-pill contact-pill--active" data-contact-type="demo">Demo</button>
            <button type="button" class="contact-pill" data-contact-type="pilot">Pilot</button>
            <button type="button" class="contact-pill" data-contact-type="message">Just interested</button>
        </div>

        <form id="contactForm" class="contact-form contact-grid">

            <!-- Prevent spam -->
            <input type="hidden" name="_captcha" value="false">
            <input type="hidden" name="_template" value="box">

            <!-- Used to change the email subject based on pill selection -->
            <input type="hidden" name="ContactType" id="contactTypeField" value="demo">

            <label class="contact-field">
                <span>Name</span>
                <input type="text" name="Name" placeholder="Your name" required>
            </label>

            <label class="contact-field">
                <span>Organization</span>
                <input type="text" name="Company" placeholder="City, firm, or agency">
            </label>

            <label class="contact-field">
                <span>Email</span>
                <input type="email" name="Email" placeholder="name@org.gov">
            </label>

            <label class="contact-field contact-field--full">
                <span>Message</span>
                <textarea name="Message" placeholder="Example: We want to justify sweeping as a BMP in our MS4 annual report, and target hotspots near impaired waters." rows="5" required></textarea>
            </label>

            <!-- Keep Subject for your existing handler; we set it automatically via JS below -->
            <input type="hidden" name="Subject" id="subjectField" value="SWPT (Stormwater Pollution Tracker) – Schedule a demo">

            <div class="contact-actions contact-field--full">
                <button type="submit" class="hero-btn contact-btn--primary contact-submit">Send message</button>
            </div>


        </form>
    </div>
</section>


<!-- ============================== -->
<!--            FOOTER             -->
<!-- ============================== -->
<footer class="swpt-footer">
    <div class="swpt-footer-inner">

        <div class="swpt-footer-brand">
            <a href="#top" onclick="event.preventDefault(); window.scrollTo({top:0, behavior: 'smooth'});">
                <img src="../static/images/swpt-logo-cropped.png" alt="SWPT Logo">
            </a>
            <p>Cleaning Roads for Reduced Pollution Loads</p>
        </div>

        <div class="swpt-footer-links">

            <!-- Phone (copy to clipboard) -->
            <button class="swpt-footer-icon copy-action"
                data-copy="401-626-6827"
                data-label="Phone copied!">
                <i data-lucide="phone"></i>
            </button>

            <!-- Email (copy to clipboard) -->
            <button class="swpt-footer-icon copy-action"
                data-copy="asheerin@fathomsolutions.dev"
                data-label="Email copied!">
                <i data-lucide="mail"></i>
            </button>

            <!-- LinkedIn -->
            <a
                href="https://www.linkedin.com/showcase/swpt-app/"
                target="_blank"
                rel="noopener"
                class="swpt-footer-icon">
                <i data-lucide="linkedin"></i>
            </a>
        </div>

        <p class="swpt-footer-copy">© 2025 Fathom Solutions</p>
    </div>
</footer>



<!-- ============================== -->
<!--        MODULE MODALS          -->
<!-- ============================== -->

<!-- Overlay (shared for all modals) -->
<div id="modalOverlay" class="modal-overlay" onclick="closeModal()"></div>

<!-- SIMULATE MODAL -->
<div id="simulateModal" class="modal-panel">
    <button class="modal-close" onclick="closeModal()">×</button>
    <h2>Simulate Module</h2>
    <p>
        Model the transport of pollution as a function of buildup, washoff, and sweeping removal.
        Throughout the studied road network, we can simulate sweeping strategies,
        and review summary metrics showing pollution reduction performance.
    </p>
    <img
      src="../static/images/simulate-dashboard.png"
      alt="Simulation Dashboard Preview"
      class="swpt-modal-image"
    />

</div>

<!-- PRIORITIZE MODAL -->
<div id="prioritizeModal" class="modal-panel">
    <button class="modal-close" onclick="closeModal()">×</button>
    <h2>Prioritize Module</h2>
    <p>
        Rank road segments by environmental and social factors.
        Apply weighted criteria such as land use, canopy coverage,
        and neighborhood features to identify high-priority streets
        that provide the largest water-quality benefit when swept.
    </p>
    <img
      src="../static/images/prioritize-dashboard.png"
      alt="Prioritize Dashboard Preview"
      class="swpt-modal-image"
    />
</div>

<!-- OPTIMIZE MODAL -->
<div id="optimizeModal" class="modal-panel">
    <button class="modal-close" onclick="closeModal()">×</button>
    <h2>Optimize Module</h2>
    <p>
        Calculate the most cost-effective sweeping schedules
        and optimal sweeper routes based on pollutant
        reduction performance and operational constraints.
    </p>
</div>

<script src="https://www.youtube.com/iframe_api"></script>


<script>
function openModal(id) {
    document.getElementById("modalOverlay").classList.add("show");
    document.getElementById(id).classList.add("show");
}

function closeModal() {
    document.getElementById("modalOverlay").classList.remove("show");
    document.querySelectorAll(".modal-panel").forEach(m => m.classList.remove("show"));
}
</script>

<script>
// Contact type pills -> update hidden fields for email subject/context
(function() {
    const root = document.getElementById('contact');
    if (!root) return;

    const pills = root.querySelectorAll('.contact-pill');
    const contactTypeField = document.getElementById('contactTypeField');
    const subjectField = document.getElementById('subjectField');

    const computeSubject = (type) => {
        const prefix = 'SWPT (Stormwater Pollution Tracker)';
        if (type === 'pilot') return `${prefix} – Pilot request`;
        if (type === 'message') return `${prefix} – Message`;
        return `${prefix} – Schedule a demo`;
    };

    const setActive = (type) => {
        pills.forEach(p => p.classList.toggle('contact-pill--active', p.getAttribute('data-contact-type') === type));
        if (contactTypeField) contactTypeField.value = type;
        if (subjectField) subjectField.value = computeSubject(type);
    };

    pills.forEach(pill => {
        pill.addEventListener('click', () => {
            const type = pill.getAttribute('data-contact-type') || 'demo';
            setActive(type);
        });
    });

    // Initialize
    setActive('demo');
})();
</script>

<script>
    function onPlayerStateChange(event) {
      if (event.data === YT.PlayerState.ENDED) {
        ytPlayer.seekTo(0, true);
        ytPlayer.playVideo();
      }
    }
</script>


</script>

<script>
document.getElementById("contactForm").addEventListener("submit", async function(e) {
    e.preventDefault();  // prevent page reload

    const form = e.target;
    const submitBtn = form.querySelector(".contact-submit");

    // Collect form data
    const formData = new FormData(form);

    // Send using AJAX to FormSubmit
    await fetch("https://formsubmit.co/asheerin@fathomsolutions.dev", {
        method: "POST",
        body: formData
    });

    // Button success styling
    const originalText = submitBtn.textContent;
    submitBtn.textContent = "Message Submitted!";
    submitBtn.style.backgroundColor = "#2ecc71";  // green
    submitBtn.disabled = true;

    // Reset form fields
    form.reset();

    // Reset button after 5 seconds
    setTimeout(() => {
        submitBtn.textContent = originalText;
        submitBtn.style.backgroundColor = "";
        submitBtn.disabled = false;
    }, 5000);
});
</script>

<script>
let ytPlayer;
const YOUTUBE_VIDEO_ID = "Ye_X45jQgZY"; // <-- replace

function onYouTubeIframeAPIReady() {
  ytPlayer = new YT.Player("swptYoutubePlayer", {
    videoId: YOUTUBE_VIDEO_ID,
    playerVars: {
      autoplay: 0,
      controls: 1,
      modestbranding: 1,
      rel: 0,
      playsinline: 1,
      loop: 1,
      playlist: YOUTUBE_VIDEO_ID
    },
    events: {
      onReady: onPlayerReady
    }
  });
}

function onPlayerReady() {
  const shell = document.getElementById("swptVideoShell");

  const playVideo = () => {
    shell.classList.add("is-playing");
    ytPlayer.playVideo();
  };

  shell.addEventListener("click", playVideo);
  shell.addEventListener("keydown", (e) => {
    if (e.key === "Enter" || e.key === " ") {
      e.preventDefault();
      playVideo();
    }
  });

  document.querySelectorAll(".chapter-chip[data-seek]").forEach(btn => {
    btn.addEventListener("click", () => {
      const sec = Number(btn.dataset.seek) || 0;
      shell.classList.add("is-playing");
      ytPlayer.seekTo(sec, true);
      ytPlayer.playVideo();
      shell.scrollIntoView({ behavior: "smooth", block: "center" });
    });
  });
}
</script>


<script>
// Mobile menu + smooth scrolling (header offset)
(function() {
    const header = document.querySelector('.home-header');
    const menu = document.getElementById('mobileMenu');
    const toggle = document.getElementById('menuToggle');
    const closeBtn = document.getElementById('menuClose');

    if (!menu || !toggle) return;

    const setMenuOpen = (open) => {
        menu.classList.toggle('is-open', open);
        toggle.classList.toggle('is-open', open);
        menu.setAttribute('aria-hidden', open ? 'false' : 'true');
        toggle.setAttribute('aria-expanded', open ? 'true' : 'false');
        if (open) {
            document.body.style.overflow = 'hidden';
        } else {
            document.body.style.overflow = '';
        }
    };

    toggle.addEventListener('click', () => {
        const isOpen = menu.classList.contains('is-open');
        setMenuOpen(!isOpen);
    });

    if (closeBtn) {
        closeBtn.addEventListener('click', () => setMenuOpen(false));
    }

    // Close when clicking the dark overlay (but not the panel)
    menu.addEventListener('click', (e) => {
        if (e.target === menu) setMenuOpen(false);
    });

    // Close on Escape
    document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape' && menu.classList.contains('is-open')) {
            setMenuOpen(false);
        }
    });

    const scrollToHash = (hash) => {
        const id = (hash || '').replace('#', '');
        if (!id) return;

        const el = document.getElementById(id);
        if (!el) return;

        const headerH = header ? header.getBoundingClientRect().height : 0;
        const y = window.scrollY + el.getBoundingClientRect().top - headerH - 10;

        window.scrollTo({ top: Math.max(0, y), behavior: 'smooth' });
    };

    // Smooth scroll for internal anchors (desktop + mobile)
    const onNavClick = (e) => {
        const a = e.target.closest('a[href^="#"]');
        if (!a) return;

        const href = a.getAttribute('href');
        if (!href || href === '#') return;

        e.preventDefault();
        setMenuOpen(false);

        history.pushState(null, '', href);
        scrollToHash(href);
    };

    document.addEventListener('click', onNavClick);

    // If page loads with a hash, apply offset scroll
    window.addEventListener('load', () => {
        if (window.location.hash) {
            // Delay for layout
            setTimeout(() => scrollToHash(window.location.hash), 0);
        }
    });
})();
</script>

<script>
// Copy to clipboard interactions
document.querySelectorAll(".copy-action").forEach(btn => {
    btn.addEventListener("click", () => {
        const text = btn.getAttribute("data-copy");
        const label = btn.getAttribute("data-label");

        navigator.clipboard.writeText(text);

        const originalHTML = btn.innerHTML;
        btn.innerHTML = `<span style="font-size:0.9rem">${label}</span>`;
        btn.style.pointerEvents = "none";

        setTimeout(() => {
            btn.innerHTML = originalHTML;
            btn.style.pointerEvents = "auto";
            if (window.lucide) lucide.createIcons(); // re-render icons
        }, 1300);
    });
});
</script>

<script src="https://unpkg.com/lucide@latest"></script>
<script>
window.addEventListener("DOMContentLoaded", () => {
    if (window.lucide) lucide.createIcons();
});
</script>



</body>


</html>
